---
id: PHR-001
title: Establish Project Constitution v1.0.0
stage: constitution
date: 2026-02-07
surface: agent
model: claude-opus-4-6
feature: constitution
branch: master
user: developer
command: /sp.constitution
labels: [constitution, governance, principles, setup]
links:
  spec: N/A
  ticket: N/A
  adr: N/A
  pr: N/A
files:
  - path: .specify/memory/constitution.md
    action: updated
    description: Populated constitution from template with 5 principles and 10 sections
tests:
  - N/A (governance document, no code tests)
---

## Prompt

/sp.constitution

Project: Phase II — Todo Full-Stack Web Application (Panaversity Hackathon II)

Core Principles:
- Spec-Driven Development: No code is written without an approved spec. Every line of code must trace back to a specification.
- No Manual Coding: All implementation is generated by Claude Code from specs. If output is wrong, refine the spec — not the code.
- User Isolation: Every database query, every API response, every UI view is scoped to the authenticated user. No user can ever see another user's data.
- Clean Architecture: Thin route handlers → service layer → database. No business logic in routes. No DB calls in routes.
- Monorepo Coherence: Frontend (Next.js 16+) and Backend (FastAPI) live in one repo. Changes that touch both sides must be spec'd together.

Technology Stack (Non-Negotiable):
- Frontend: Next.js 16+ with App Router, TypeScript, Tailwind CSS
- Backend: Python FastAPI
- ORM: SQLModel
- Database: Neon Serverless PostgreSQL (SSL required, sslmode=require)
- Authentication: Better Auth with JWT plugin (frontend) + PyJWT verification (backend)
- Shared Secret: BETTER_AUTH_SECRET identical on both frontend and backend
- Package Manager: uv for Python, npm for Node.js

Architecture Standards:
- RESTful API: 6 endpoints under /api/{user_id}/tasks
- JWT on every request: All API endpoints require valid Bearer token
- User ID enforcement: URL {user_id} must match JWT sub claim. Mismatch = 403.
- CORS: Backend allows only the frontend origin
- Environment variables: All secrets from .env files, never hardcoded

Agents and Skills (Mandatory Usage):
5 sub-agents (Auth, Backend, Frontend, Database, Testing) and 4 skills.

Code Quality, Security, Testing Standards, Spec-Driven Workflow, Success Criteria, and Constraints also provided.

## Response snapshot

Created constitution v1.0.0 at `.specify/memory/constitution.md`:

- **Version**: 0.0.0 (template) → 1.0.0 (MAJOR — first population)
- **5 Core Principles**: Spec-Driven Development, No Manual Coding, User Isolation, Clean Architecture, Monorepo Coherence
- **10 Sections**: Core Principles, Technology Stack, Architecture Standards, Agents and Skills, Code Quality Standards, Security Standards, Testing Standards, Spec-Driven Workflow, Success Criteria, Constraints, Governance
- **Template validation**: All placeholder tokens replaced, no bracket tokens remaining
- **Sync Impact Report**: Embedded as HTML comment; all dependent templates verified (plan, spec, tasks) — no updates needed
- **Governance**: Amendment procedure with semantic versioning, compliance review expectations

## Outcome

- Impact: Established project governance foundation — all future specs, plans, tasks, and code must comply
- Tests: N/A (governance document)
- Files: .specify/memory/constitution.md (updated)
- Next prompts: /sp.specify for first feature spec (e.g., authentication or task CRUD)
- Reflection: Constitution successfully populated from comprehensive user input; all 5 principles are declarative and testable

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): Manual validation PASS — no unresolved placeholders, dates ISO format, principles declarative
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): N/A
